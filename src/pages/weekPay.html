<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<link rel="stylesheet" href="css/normalize.css" />
		<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0" />
		<title></title>
	</head>

	<body>
		<div id="week_pie" style="width:100%;height:300px;padding: 0">

		</div>

		<script src="https://cdn.bootcss.com/axios/0.17.1/axios.min.js"></script>
		<script src="https://cdn.bootcss.com/echarts/3.8.5/echarts.common.min.js"></script>
		<script>
			function GetQueryString(name) {
				var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)");
				var r = window.location.search.substr(1).match(reg);
				if(r != null) return unescape(r[2]);
				return null;
			}
			var drug = GetQueryString('drug') /*药品*/
			var wages = GetQueryString('wages') /*工资*/
			var hydropower = GetQueryString('hydropower') /*水电*/
			var feed = GetQueryString('feed') /*饲料*/
			var other = GetQueryString('other') /*其他*/
			var vaccine = GetQueryString('vaccine') /*疫苗*/
			console.log(feed)
			var myChart = echarts.init(document.getElementById('week_pie'));
			myChart.setOption({
				tooltip: {
					trigger: 'item',
					formatter: "{a} <br/>{b} : {c} ({d}%)"
//					formatter: "{b} ({d}%)"
				},
				series: [{
					name: '支出',
					type: 'pie',
					radius: '65%',
					center: ['50%', '50%'],
					data: [{
						'value': drug,
						'name': '药品'
					}, {
						'value': wages,
						'name': '工资'
					}, {
						'value': hydropower,
						'name': '水电'
					}, {
						'value': feed,
						'name': '饲料'
					}, {
						'value': other,
						'name': '其他'
					}, {
						'value': vaccine,
						'name': '疫苗'
					}],
					itemStyle: {
						emphasis: {
							shadowBlur: 10,
							shadowOffsetX: 0,
							shadowColor: 'rgba(0, 0, 0, 0.5)'
						},
						normal: {
							label: {
								show: true,
								formatter: '{b}\n({d}%)'
							}
						}
					}
				}],
				color: ['#3A7CE8', '#3DB0E9', '#2ACDAC', '#85EB50', '#D7F76C', '#FACD61']
			})
		</script>
	</body>

</html>